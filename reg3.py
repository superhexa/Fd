import requests, uuid, re
wi = str(uuid.uuid4())

import time, hmac, hashlib, secrets
mid = 'mIyjaLR5tcWMMzqG7keZ4O1C'
def make_rva(user_id: str, secret_key: bytes = None):
    if secret_key is None:
        # مفتاح سري تستخدمه للتوقيع
        secret_key = b"my_secret_key"

    # 1. time-based int (مثل unix timestamp)
    ts = int(time.time())

    # 2. نولّد توقيع HMAC من الـ timestamp باستخدام secret_key
    sig = hmac.new(secret_key, str(ts).encode(), hashlib.sha256).hexdigest()

    # 3. ناخذ بس جزء (اختياري) عشان يطابق الطول
    sig_part = sig[:64]

    # 4. نكوّن الـ RVA
    rva = f"RVA,{user_id},{ts}:{sig_part}"
    return rva

passwordd = 'yyy@R84844994'

headers = {
    'User-Agent': 'Instagram 275.0.0.27.98 Android (29/10; 320dpi; 720x1369; Xiaomi; Redmi 8A; olivelite; qcom; en_US; 458229237)',
    # 'Accept-Encoding': 'zstd, gzip, deflate',
    'x-ig-app-locale': 'en_US',
    'x-ig-device-locale': 'en_US',
    'x-ig-mapped-locale': 'en_US',
    'x-pigeon-session-id': 'UFS-910789d6-4632-4b44-a4f2-b28fec71ba69-0',
    'x-pigeon-rawclienttime': '1755548834.052',
    'x-ig-bandwidth-speed-kbps': '-1.000',
    'x-ig-bandwidth-totalbytes-b': '0',
    'x-ig-bandwidth-totaltime-ms': '0',
    'x-bloks-version-id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    'x-ig-www-claim': '0',
    'x-bloks-is-layout-rtl': 'false',
    'x-ig-device-id': '3b67cd48-7663-488d-8509-4caf099a935e',
    'x-ig-family-device-id': '97b3895a-649d-40f8-a516-e63aae231f80',
    'x-ig-android-id': 'android-d71ab773d39dfdbd',
    'x-ig-timezone-offset': '3600',
    'x-fb-connection-type': 'MOBILE.LTE',
    'x-ig-connection-type': 'MOBILE(LTE)',
    'x-ig-capabilities': '3brTv10=',
    'x-ig-app-id': '567067343352427',
    'priority': 'u=3',
    'accept-language': 'en-US',
    'x-mid': 'aKOKJgABAAEoT7cbDb2xate4trut',
    'ig-intended-user-id': '0',
    'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',
    'x-fb-http-engine': 'Liger',
    'x-fb-client-ip': 'True',
    'x-fb-server-cluster': 'True',
}


eri = str(uuid.uuid4())
tii = '123649209000111'
rfi = str(uuid.uuid4())

email = input(' [+] Email : ')
data = {
    'params': '{"client_input_params":{"device_id":"android-d71ab773d39dfdbd","msg_previous_cp":"","switch_cp_first_time_loading":1,"accounts_list":[],"email_prefilled":0,"confirmed_cp_and_code":{},"family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","block_store_machine_id":"","fb_ig_device_id":[],"lois_settings":{"lois_token":""},"cloud_trust_token":null,"is_from_device_emails":0,"email":"'+(email)+'","switch_cp_have_seen_suma":0},"server_params":{"event_request_id":"'+(eri)+'","is_from_logged_out":0,"text_input_id":'+(tii)+',"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.23649209000146E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":null,\\"contactpoint\\":null,\\"ar_contactpoint\\":null,\\"contactpoint_type\\":null,\\"is_using_unified_cp\\":null,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":null,\\"birthday\\":null,\\"birthday_derived_from_age\\":null,\\"did_use_age\\":null,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":null,\\"username\\":null,\\"username_prefill\\":null,\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":null,\\"safetynet_response\\":null,\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":null,\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":null,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":false,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":false,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":null,\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":null,\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","cp_funnel":0,"cp_source":0,"access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":0,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.async.contactpoint_email.async/',
    headers=headers,
    data=data,
)
print(response)
code_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[4]).split('|regm')[0] + '|regm')
code = input(' [+] Code : ')
data = {
    'params': '{"client_input_params":{"confirmed_cp_and_code":{},"block_store_machine_id":"","code":"'+(code)+'","fb_ig_device_id":[],"device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"cloud_trust_token":null},"server_params":{"event_request_id":"'+(eri)+'","is_from_logged_out":0,"text_input_id":123668550201857,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(code_context)+'","waterfall_id":"'+(wi)+'","wa_timer_id":"wa_retriever","INTERNAL__latency_qpl_instance_id":1.23668550202008E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"sms_retriever_started_prior_step":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":null,\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":null,\\"birthday\\":null,\\"birthday_derived_from_age\\":null,\\"did_use_age\\":null,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":null,\\"username\\":null,\\"username_prefill\\":null,\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":null,\\"safetynet_response\\":null,\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":null,\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":null,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":false,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"20c7fb09-4008-47f7-bd09-f24c0e5dde93\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":null,\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":3,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.confirmation.async/',
    headers=headers,
    data=data,
)
password_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[2]).split('|regm')[0] + '|regm')
print(response)
c_code = ((((response.text).replace("\\", "")).split('"confirmation_code":"')[1]).split('",')[0])
print(c_code)
password = 'iojreoifj843fjw89cejwf3f' #input(' [+] Password : ')


data = {
    'params': '{"client_input_params":{"safetynet_response":"API_ERROR: class X.8nu:7: ","caa_play_integrity_attestation_result":"","safetynet_token":"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==","whatsapp_installed_on_client":1,"machine_id":"aKOKJgABAAEoT7cbDb2xate4trut","headers_last_infra_flow_id_safetynet":"","email_oauth_token_map":{},"block_store_machine_id":"","fb_ig_device_id":[],"encrypted_msisdn_for_safetynet":"","lois_settings":{"lois_token":""},"cloud_trust_token":null,"client_known_key_hash":"","encrypted_password":"#PWD_INSTAGRAM:0:0:'+(passwordd)+'"},"server_params":{"event_request_id":"'+(eri)+'","spi_action":0,"flow_modifier":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_from_logged_out":0,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(password_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.23843782400206E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":null,\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"'+(c_code)+'\\",\\"birthday\\":null,\\"birthday_derived_from_age\\":null,\\"did_use_age\\":null,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":null,\\"username\\":null,\\"username_prefill\\":null,\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":null,\\"safetynet_response\\":null,\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":null,\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":null,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":false,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":null,\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":5,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.password.async/',
    headers=headers,
    data=data,
)

print(response)

birthday_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[4]).split('|regm')[0] + '|regm')
birthday = '18-08-1989' #input(' [+] Birthday (Ex :18-08-1989) : ')
timestamp = '619475297' #input(' [+] Birthday Timestamp (Ex :619475297) : ')

data = {
    'params': '{"client_input_params":{"should_skip_youth_tos":0,"is_youth_regulation_flow_complete":0,"birthday_or_current_date_string":"18-08-1989","birthday_timestamp":619475297,"lois_settings":{"lois_token":""}},"server_params":{"is_from_logged_out":0,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(birthday_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.23873215000706E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":null,\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"'+(c_code)+'\\",\\"birthday\\":null,\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":null,\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":7,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.birthday.async/',
    headers=headers,
    data=data,
)

print(response)

name = input(' [+] Name : ') #7272472827411125
username = name
##########
name_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[3]).split('|regm')[0] + '|regm')
data = {
    'params': '{"client_input_params":{"name":"'+(name)+'","accounts_list":[],"lois_settings":{"lois_token":""}},"server_params":{"is_from_logged_out":0,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(name_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.23921674800106E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":null,\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"'+(c_code)+'\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":null,\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":8,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.name_ig_and_soap.async/',
    headers=headers,
    data=data,
)

print(response)

up = ((((response.text).replace("\\", "")).split('username_prefill":"')[1]).split('",')[0])

'''for i in range(11):
    user_set_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[1]).split('|regm')[0] + '|regm')
    #----------------#
    data = {
        'params': '{"client_input_params":{"validation_text":"'+(up)+'","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"},"server_params":{"is_from_logged_out":0,"text_input_id":124078685500025,"layered_homepage_experiment_group":null,"serialized_states":{"current_text":"4;17zcylqa9h;0"},"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(user_set_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24078685500239E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"aDZeuiWb\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\",\\"CAA_REG_IG_USERNAME\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","suggestions_container_id":124078685500024,"action":0,"screen_id":124078685500002,"access_flow_version":"pre_mt_behavior","post_tos":1,"input_id":124078685500026,"is_from_logged_in_switcher":0,"current_step":13,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
        '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
        'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
        'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    }

    responsee = requests.post(
        'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.username.async/',
        headers=headers,
        data=data,
    )

    #########33
    

    data = {
        'params': '{"client_input_params":{"validation_text":"'+(username)+'","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"},"server_params":{"is_from_logged_out":0,"text_input_id":124078685500025,"layered_homepage_experiment_group":null,"serialized_states":{"current_text":"4;17zcylqa9h;0"},"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(user_set_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24078685500239E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"aDZeuiWb\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\",\\"CAA_REG_IG_USERNAME\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","suggestions_container_id":124078685500024,"action":0,"screen_id":124078685500002,"access_flow_version":"pre_mt_behavior","post_tos":1,"input_id":124078685500026,"is_from_logged_in_switcher":0,"current_step":13,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
        '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
        'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
        'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    }

    responsee = requests.post(
        'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.username.async/',
        headers=headers,
        data=data,
    )

    print(i)



    

user_set_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[3]).split('|regm')[0] + '|regm')




data = {
    'params': '{"client_input_params":{"validation_text":"'+(up)+'","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"},"server_params":{"is_from_logged_out":0,"text_input_id":124078685500025,"layered_homepage_experiment_group":null,"serialized_states":{"current_text":"4;17zcylqa9h;0"},"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(user_set_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24078685500239E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"aDZeuiWb\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\",\\"CAA_REG_IG_USERNAME\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","suggestions_container_id":124078685500024,"action":0,"screen_id":124078685500002,"access_flow_version":"pre_mt_behavior","post_tos":1,"input_id":124078685500026,"is_from_logged_in_switcher":0,"current_step":13,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

responseee = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.username.async/',
    headers=headers,
    data=data,
)'''



rege_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[2]).split('|regm')[0] + '|regm')



data = {
    'params': '{"client_input_params":{"ck_error":"","device_id":"android-d71ab773d39dfdbd","waterfall_id":"'+(wi)+'","failed_birthday_year_count":"","headers_last_infra_flow_id":"","ig_partially_created_account_nonce_expiry":0,"machine_id":"aKOKJgABAAEoT7cbDb2xate4trut","should_ignore_existing_login":0,"reached_from_tos_screen":1,"ig_partially_created_account_nonce":"","ck_nonce":"","force_sessionless_nux_experience":0,"lois_settings":{"lois_token":""},"ig_partially_created_account_user_id":0,"ck_id":"","no_contact_perm_email_oauth_token":"","encrypted_msisdn":""},"server_params":{"event_request_id":"'+(eri)+'","is_from_logged_out":0,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(rege_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.2397986550011E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"'+(c_code)+'\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:0:0:'+(passwordd)+'\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"mIyjaLR5tcWMMzqG7keZ4O1C\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":true,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":null,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":null,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","app_id":0,"is_from_logged_in_switcher":0,"current_step":10,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.create.account.async/',
    headers=headers,
    data=data,
)




print(response) #.text

pk_id = ig_rur = auth = None
if '"account_created": true,' not in ((response.text).replace("\\", "")):
    print(f' [*] Acount is created, let me set username...')
    pk_id = ((((response.text).replace("\\", "")).split('"pk_id":"')[1]).split('",')[0])
    ig_rur = make_rva(pk_id)
    auth = ((((response.text).replace("\\", "")).split('"IG-Set-Authorization": "')[1]).split('",')[0])
    www_claim = ((((response.text).replace("\\", "")).split('"x-ig-set-www-claim": "')[1]).split('",')[0])
    
else:print('[FAIL CREATED ACCOUNT]');exit()


print(username)
print(passwordd)

print(pk_id)
print(ig_rur)
print(auth)
print(www_claim)


headersIG = {
    'User-Agent': 'Instagram 275.0.0.27.98 Android (29/10; 320dpi; 720x1369; Xiaomi; Redmi 8A; olivelite; qcom; en_US; 458229237)',
    # 'Accept-Encoding': 'zstd, gzip, deflate',
    'x-ig-app-locale': 'en_US',
    'x-ig-device-locale': 'en_US',
    'x-ig-mapped-locale': 'en_US',
    'x-pigeon-session-id': 'UFS-910789d6-4632-4b44-a4f2-b28fec71ba69-1',
    'x-pigeon-rawclienttime': '1755548953.365',
    'x-ig-bandwidth-speed-kbps': '-1.000',
    'x-ig-bandwidth-totalbytes-b': '0',
    'x-ig-bandwidth-totaltime-ms': '0',
    'x-bloks-version-id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    'x-ig-www-claim': www_claim,
    'x-bloks-is-layout-rtl': 'false',
    'x-ig-device-id': '3b67cd48-7663-488d-8509-4caf099a935e',
    'x-ig-family-device-id': '97b3895a-649d-40f8-a516-e63aae231f80',
    'x-ig-android-id': 'android-d71ab773d39dfdbd',
    'x-ig-timezone-offset': '3600',
    'x-fb-connection-type': 'MOBILE.LTE',
    'x-ig-connection-type': 'MOBILE(LTE)',
    'x-ig-capabilities': '3brTv10=',
    'x-ig-app-id': '567067343352427',
    'priority': 'u=3',
    'accept-language': 'en-US',
    'authorization': str(auth),
    'x-mid': 'aKOKJgABAAEoT7cbDb2xate4trut',
    'ig-u-ds-user-id': str(pk_id),
    'ig-u-rur': str(ig_rur),
    'ig-intended-user-id': str(pk_id),
    'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',
    'x-fb-http-engine': 'Liger',
    'x-fb-client-ip': 'True',
    'x-fb-server-cluster': 'True',
}



#----------------------------------------------------------------#
for i in range(11):
    data = {
        'params': '{"client_input_params":{"upload_id":"","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"image_url":""},"server_params":{"is_from_logged_out":0,"layered_homepage_experiment_group":null,"device_id":"android-d71ab773d39dfdbd","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24037032100025E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"'+(c_code)+'\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:1:1755548894:ASmremsHy8IkDBkLx3wAASl0F7xFEbpfM6bcpEcr5p6h7O4poYCjwfuGfvPVGprn0kEvLVPTy6EGIN8rB6PLG1ECufOXGLh3RYu7NGa2aNApsJSh+aiLkEelEcIwkw65eN\\\\/r\\\\/+uRf\\\\/zbw28zwqHNAWyNV7H7Qpx\\\\/yEuW2jCyWoTS8cofoom334R6xrYLTmcyI5\\\\/p\\\\/U57jBQ3UHxJ4tRWRnECT2DmN8QfTsG7yYhVOVKfYGx+JnzE8+7Ow6TJfAFY3b3xjVvBaX6rHNTdlGTf31cO5wA\\\\/rZX4JBhFFVpmWVSo2mCTPmDtdQ8VgVwtUHhvmOmrg9PD2glKGsU5uJi\\\\/PnlS2NO8gnlHT8gI9ZttMBTB1IjS20oKfLrGxvPHrkEN2xZneHajGHOzkmkPbjZvPLrCQG4=\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"'+(mid)+'\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","access_flow_version":"pre_mt_behavior","is_from_logged_in_switcher":0,"current_step":12,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
        '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
        'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
        'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    }

    response = requests.post(
        'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.registration.profile.async/',
        headers=headersIG,
        data=data,
        
    )
    print(response)
    if 'https://www.instagram.com/accounts/suspended/' in response.text:
        print('[FAIL CREATED ACCOUNT]')
        exit() #{"message":"challenge_required","challenge":{"url":"https://www.instagram.com/accounts/suspended/","api_path":"/challenge/","hide_webview_header":true,"lock":true,"logout":false,"native_flow":true,"flow_render_type":0},"status":"fail"}
    user_set_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[1]).split('|regm')[0] + '|regm')


    data = {
        'params': '{"client_input_params":{"validation_text":"'+(username)+'","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"},"server_params":{"is_from_logged_out":0,"text_input_id":124078685500025,"layered_homepage_experiment_group":null,"serialized_states":{"current_text":"4;17zcylqa9h;0"},"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(user_set_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24078685500239E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"aDZeuiWb\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:1:1755548894:ASmremsHy8IkDBkLx3wAASl0F7xFEbpfM6bcpEcr5p6h7O4poYCjwfuGfvPVGprn0kEvLVPTy6EGIN8rB6PLG1ECufOXGLh3RYu7NGa2aNApsJSh+aiLkEelEcIwkw65eN\\\\/r\\\\/+uRf\\\\/zbw28zwqHNAWyNV7H7Qpx\\\\/yEuW2jCyWoTS8cofoom334R6xrYLTmcyI5\\\\/p\\\\/U57jBQ3UHxJ4tRWRnECT2DmN8QfTsG7yYhVOVKfYGx+JnzE8+7Ow6TJfAFY3b3xjVvBaX6rHNTdlGTf31cO5wA\\\\/rZX4JBhFFVpmWVSo2mCTPmDtdQ8VgVwtUHhvmOmrg9PD2glKGsU5uJi\\\\/PnlS2NO8gnlHT8gI9ZttMBTB1IjS20oKfLrGxvPHrkEN2xZneHajGHOzkmkPbjZvPLrCQG4=\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"'+(mid)+'\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\",\\"CAA_REG_IG_USERNAME\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","suggestions_container_id":124078685500024,"action":0,"screen_id":124078685500002,"access_flow_version":"pre_mt_behavior","post_tos":1,"input_id":124078685500026,"is_from_logged_in_switcher":0,"current_step":13,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
        '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
        'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
        'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
    }

    responsee = requests.post(
        'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.username.async/',
        headers=headersIG,
        data=data,
        
    )

    print(i)

user_set_context = ((((response.text).replace("\\", "")).split('", "pre_mt_behavior", "')[2]).split('|regm')[0] + '|regm')




data = {
    'params': '{"client_input_params":{"validation_text":"'+(username)+'","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","device_id":"android-d71ab773d39dfdbd","lois_settings":{"lois_token":""},"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"},"server_params":{"is_from_logged_out":0,"text_input_id":124078685500025,"layered_homepage_experiment_group":null,"serialized_states":{"current_text":"4;17zcylqa9h;0"},"device_id":"android-d71ab773d39dfdbd","reg_context":"'+(user_set_context)+'","waterfall_id":"'+(wi)+'","INTERNAL__latency_qpl_instance_id":1.24078685500239E14,"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","is_platform_login":0,"INTERNAL__latency_qpl_marker_id":36707139,"reg_info":"{\\"first_name\\":null,\\"last_name\\":null,\\"full_name\\":\\"'+(name)+'\\",\\"contactpoint\\":\\"'+(email.split('@')[0])+'\\\\u0040'+(email.split('@')[1])+'\\",\\"ar_contactpoint\\":null,\\"contactpoint_type\\":\\"email\\",\\"is_using_unified_cp\\":false,\\"unified_cp_screen_variant\\":null,\\"is_cp_auto_confirmed\\":false,\\"is_cp_auto_confirmable\\":false,\\"confirmation_code\\":\\"aDZeuiWb\\",\\"birthday\\":\\"18-08-1989\\",\\"birthday_derived_from_age\\":null,\\"did_use_age\\":false,\\"gender\\":null,\\"use_custom_gender\\":false,\\"custom_gender\\":null,\\"encrypted_password\\":\\"#PWD_INSTAGRAM:1:1755548894:ASmremsHy8IkDBkLx3wAASl0F7xFEbpfM6bcpEcr5p6h7O4poYCjwfuGfvPVGprn0kEvLVPTy6EGIN8rB6PLG1ECufOXGLh3RYu7NGa2aNApsJSh+aiLkEelEcIwkw65eN\\\\/r\\\\/+uRf\\\\/zbw28zwqHNAWyNV7H7Qpx\\\\/yEuW2jCyWoTS8cofoom334R6xrYLTmcyI5\\\\/p\\\\/U57jBQ3UHxJ4tRWRnECT2DmN8QfTsG7yYhVOVKfYGx+JnzE8+7Ow6TJfAFY3b3xjVvBaX6rHNTdlGTf31cO5wA\\\\/rZX4JBhFFVpmWVSo2mCTPmDtdQ8VgVwtUHhvmOmrg9PD2glKGsU5uJi\\\\/PnlS2NO8gnlHT8gI9ZttMBTB1IjS20oKfLrGxvPHrkEN2xZneHajGHOzkmkPbjZvPLrCQG4=\\",\\"username\\":null,\\"username_prefill\\":\\"'+(up)+'\\",\\"fb_conf_source\\":null,\\"device_id\\":\\"android-d71ab773d39dfdbd\\",\\"ig4a_qe_device_id\\":\\"3b67cd48-7663-488d-8509-4caf099a935e\\",\\"family_device_id\\":\\"97b3895a-649d-40f8-a516-e63aae231f80\\",\\"user_id\\":null,\\"safetynet_token\\":\\"aGFtaWRib3VnbGFtQGdtYWlsLmNvbXwxNzU1NTQ4ODkwfLmarVbknqPh1WcftkJWRQwSBbQC8umcWQ==\\",\\"safetynet_response\\":\\"API_ERROR: class X.8nu:7: \\",\\"machine_id\\":\\"'+(mid)+'\\",\\"profile_photo\\":null,\\"profile_photo_id\\":null,\\"profile_photo_upload_id\\":null,\\"avatar\\":null,\\"email_oauth_token_no_contact_perm\\":null,\\"email_oauth_token\\":null,\\"email_oauth_tokens\\":[],\\"should_skip_two_step_conf\\":null,\\"openid_tokens_for_testing\\":null,\\"encrypted_msisdn\\":null,\\"encrypted_msisdn_for_safetynet\\":null,\\"cached_headers_safetynet_info\\":null,\\"should_skip_headers_safetynet\\":null,\\"headers_last_infra_flow_id\\":null,\\"headers_last_infra_flow_id_safetynet\\":null,\\"headers_flow_id\\":null,\\"was_headers_prefill_available\\":null,\\"sso_enabled\\":null,\\"existing_accounts\\":null,\\"used_ig_birthday\\":null,\\"sync_info\\":null,\\"create_new_to_app_account\\":null,\\"skip_session_info\\":null,\\"ck_error\\":null,\\"ck_id\\":null,\\"ck_nonce\\":null,\\"should_save_password\\":false,\\"horizon_synced_username\\":null,\\"fb_access_token\\":null,\\"horizon_synced_profile_pic\\":null,\\"is_identity_synced\\":false,\\"is_msplit_reg\\":null,\\"is_spectra_reg\\":null,\\"spectra_reg_token\\":null,\\"spectra_reg_guardian_id\\":null,\\"user_id_of_msplit_creator\\":null,\\"msplit_creator_nonce\\":null,\\"dma_data_combination_consent_given\\":null,\\"xapp_accounts\\":null,\\"fb_device_id\\":null,\\"fb_machine_id\\":null,\\"ig_device_id\\":null,\\"ig_machine_id\\":null,\\"should_skip_nta_upsell\\":null,\\"big_blue_token\\":null,\\"skip_sync_step_nta\\":null,\\"caa_reg_flow_source\\":\\"login_home_native_integration_point\\",\\"ig_authorization_token\\":null,\\"full_sheet_flow\\":false,\\"crypted_user_id\\":null,\\"is_caa_perf_enabled\\":true,\\"is_preform\\":false,\\"ignore_suma_check\\":false,\\"dismissed_login_upsell_with_cna\\":true,\\"ignore_existing_login\\":false,\\"ignore_existing_login_from_suma\\":false,\\"ignore_existing_login_after_errors\\":false,\\"suggested_first_name\\":null,\\"suggested_last_name\\":null,\\"suggested_full_name\\":null,\\"frl_authorization_token\\":null,\\"post_form_errors\\":null,\\"skip_step_without_errors\\":false,\\"existing_account_exact_match_checked\\":false,\\"existing_account_fuzzy_match_checked\\":false,\\"email_oauth_exists\\":false,\\"confirmation_code_send_error\\":null,\\"is_too_young\\":false,\\"source_account_type\\":null,\\"whatsapp_installed_on_client\\":true,\\"confirmation_medium\\":null,\\"source_credentials_type\\":null,\\"source_cuid\\":null,\\"source_account_reg_info\\":null,\\"soap_creation_source\\":null,\\"source_account_type_to_reg_info\\":null,\\"registration_flow_id\\":\\"'+(rfi)+'\\",\\"should_skip_youth_tos\\":false,\\"is_youth_regulation_flow_complete\\":false,\\"is_on_cold_start\\":false,\\"email_prefilled\\":false,\\"cp_confirmed_by_auto_conf\\":false,\\"auto_conf_info\\":null,\\"in_sowa_experiment\\":false,\\"youth_regulation_config\\":null,\\"conf_allow_back_nav_after_change_cp\\":null,\\"conf_bouncing_cliff_screen_type\\":null,\\"conf_show_bouncing_cliff\\":null,\\"eligible_to_flash_call_in_ig4a\\":false,\\"flash_call_permissions_status\\":null,\\"attestation_result\\":null,\\"request_data_and_challenge_nonce_string\\":null,\\"confirmed_cp_and_code\\":[],\\"notification_callback_id\\":null,\\"reg_suma_state\\":0,\\"is_msplit_neutral_choice\\":false,\\"msg_previous_cp\\":null,\\"ntp_import_source_info\\":null,\\"youth_consent_decision_time\\":null,\\"should_show_spi_before_conf\\":true,\\"google_oauth_account\\":null,\\"is_reg_request_from_ig_suma\\":false,\\"device_emails\\":[],\\"is_toa_reg\\":false,\\"is_threads_public\\":false,\\"spc_import_flow\\":false,\\"caa_play_integrity_attestation_result\\":null,\\"client_known_key_hash\\":null,\\"flash_call_provider\\":null,\\"spc_birthday_input\\":false,\\"failed_birthday_year_count\\":null,\\"user_presented_medium_source\\":null,\\"user_opted_out_of_ntp\\":null,\\"is_from_registration_reminder\\":false,\\"show_youth_reg_in_ig_spc\\":false,\\"fb_suma_combined_landing_candidate_variant\\":\\"control\\",\\"fb_suma_is_high_confidence\\":null,\\"screen_visited\\":[\\"CAA_REG_CONTACT_POINT_PHONE\\",\\"CAA_REG_CONTACT_POINT_EMAIL\\",\\"CAA_REG_CONFIRMATION_SCREEN\\",\\"CAA_REG_PASSWORD\\",\\"CAA_REG_SAVE_PASSWORD_CREDENTIALS\\",\\"bloks.caa.reg.birthday\\",\\"CAA_REG_IG_NAME_SCREEN\\",\\"CAA_REG_IG_USERNAME\\"],\\"fb_email_login_upsell_skip_suma_post_tos\\":false,\\"fb_suma_is_from_email_login_upsell\\":false,\\"fb_suma_is_from_phone_login_upsell\\":false,\\"fb_suma_login_upsell_skipped_warmup\\":false,\\"fb_suma_login_upsell_show_list_cell_link\\":false,\\"should_prefill_cp_in_ar\\":null,\\"ig_partially_created_account_user_id\\":0,\\"ig_partially_created_account_nonce\\":null,\\"ig_partially_created_account_nonce_expiry\\":0,\\"force_sessionless_nux_experience\\":false,\\"has_seen_suma_landing_page_pre_conf\\":false,\\"has_seen_suma_candidate_page_pre_conf\\":false,\\"suma_on_conf_threshold\\":-1,\\"is_keyboard_autofocus\\":null,\\"pp_to_nux_eligible\\":false,\\"should_show_error_msg\\":true,\\"welcome_ar_entrypoint\\":\\"control\\",\\"th_profile_photo_token\\":null,\\"attempted_silent_auth_in_fb\\":false,\\"cp_suma_results_map\\":null,\\"source_username\\":null}","family_device_id":"97b3895a-649d-40f8-a516-e63aae231f80","offline_experiment_group":"caa_launch_ig4a_combined_60_percent","suggestions_container_id":124078685500024,"action":0,"screen_id":124078685500002,"access_flow_version":"pre_mt_behavior","post_tos":1,"input_id":124078685500026,"is_from_logged_in_switcher":0,"current_step":13,"qe_device_id":"3b67cd48-7663-488d-8509-4caf099a935e"}}',
    '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.username.async/',
    headers=headersIG,
    data=data,
    
)


data = {
    'params': '{"server_params":{"flow_info":"{\\"flow_name\\":\\"new_to_family_ig_default\\",\\"flow_type\\":\\"ntf\\"}","INTERNAL_INFRA_THEME":"default"}}',
    '_uuid': '3b67cd48-7663-488d-8509-4caf099a935e',
    'bk_client_context': '{"bloks_version":"8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb","styles_id":"instagram"}',
    'bloks_versioning_id': '8ca96ca267e30c02cf90888d91eeff09627f0e3fd2bd9df472278c9a6c022cbb',
}

response = requests.post(
    'https://i.instagram.com/api/v1/bloks/apps/com.bloks.www.bloks.caa.reg.transition/',
    headers=headersIG,
    data=data,
    
)


if f'Welcome to Instagram, {username}' in ((response.text).replace("\\", "")):
    print(f' [+] Done set [@{username}] username..\n\nINFO:\nIG AUTH: {auth}\nEMAIL : {email}\nID : {pk_id}\nIG_RUR : {ig_rur}')
else:print('[ERROR FOR SET THIS USER]');exit()
